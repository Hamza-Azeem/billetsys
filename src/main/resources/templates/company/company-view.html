<!--
  Eclipse Public License - v 2.0

    THE ACCOMPANYING PROGRAM IS PROVIDED UNDER THE TERMS OF THIS ECLIPSE
    PUBLIC LICENSE ("AGREEMENT"). ANY USE, REPRODUCTION OR DISTRIBUTION
    OF THE PROGRAM CONSTITUTES RECIPIENT'S ACCEPTANCE OF THIS AGREEMENT.
-->

{#include admin-layout}
    {#content}
        <div class="form-card">
            <h1>{company.name}</h1>
            <table>
                <tbody>
                <tr>
                    <th>Address1</th>
                    <td>{company.address1}</td>
                </tr>
                <tr>
                    <th>Address2</th>
                    <td>{company.address2}</td>
                </tr>
                <tr>
                    <th>City</th>
                    <td>{company.city}</td>
                </tr>
                <tr>
                    <th>State</th>
                    <td>{company.state}</td>
                </tr>
                <tr>
                    <th>Zip</th>
                    <td>{company.zip}</td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>{#if company.country}{company.country.name}{/if}</td>
                </tr>
                <tr>
                    <th>Phone Number</th>
                    <td>{#if company.phoneNumber}{company.phoneNumber}{/if}</td>
                </tr>
                <tr>
                    <th>Time Zone</th>
                    <td>{#if company.timezone}{company.timezone.name}{/if}</td>
                </tr>
                <tr>
                    <th>Users</th>
                    <td>
                        {#if companyUsers.isEmpty}
                            <span>-</span>
                        {#else}
                            {#for user in companyUsers}
                                <div> <a href="/users/{user.id}/edit">{user.name} </a></div>
                            {/for}
                        {/if}
                    </td>
                </tr>
                <tr>
                    <th>TAMs</th>
                    <td>
                        {#if companyTams.isEmpty}
                            <span>-</span>
                        {#else}
                            {#for user in companyTams}
                                <div><a href="/users/{user.id}/edit">{user.name}</a></div>
                            {/for}
                        {/if}
                    </td>
                </tr>
                <tr>
                    <th>Entitlements</th>
                    <td>
                        {#if companyEntitlements.isEmpty}
                            <span>-</span>
                        {#else}
                            {#for entry in companyEntitlements}
                                <div>{entry.entitlement.name} - {entry.supportLevel.name}</div>
                            {/for}
                        {/if}
                    </td>
                </tr>

                <tr>
                    <td colspan="2" style="height: 20px; border: none;"></td>
                </tr>
                <tr>
                    <th colspan="2" style="background-color: white; border-style: none;"><h2>Primary Contact</h2></th>
                </tr>
                <tr>
                    <td colspan="2">
                        {#if company.primaryContact.logoBase64 != null && ! company.primaryContact.logoBase64.isBlank}
                            <img src="{company.primaryContact.logoBase64}" alt="Current logo"
                                 style="width: 64px; height: 64px; border-radius: 50%; object-fit: cover;">
                        {#else}
                            <span class="user-avatar" style="width: 64px; height: 64px;">
                                <svg viewBox="0 0 24 24" aria-hidden="true" style="stroke: currentColor; fill: none;">
                                    <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4 0-7 2-7 4v2h14v-2c0-2-3-4-7-4z"/>
                                </svg>
                             </span>
                        {/if}
                    </td>
                </tr>
                <tr>
                    <th>Name</th>
                    <td>{#if company.primaryContact}<a href="/users/{primaryContact.id}/edit">{company.primaryContact.name} </a>{/if}</td>
                </tr>
                <tr>
                    <th>Full Name</th>
                    <td>{#if company.primaryContact.fullName}{company.primaryContact.fullName}{/if}</td>
                </tr>
                <tr>
                    <th>Email</th>
                    <td>{#if company.primaryContact.email}{company.primaryContact.email}{/if}</td>
                </tr>
                <tr>
                    <th>Social</th>
                    <td>{#if company.primaryContact.social}{company.primaryContact.social}{/if}</td>
                </tr>
                <tr>
                    <th>Phone Number</th>
                    <td>{#if company.primaryContact}{company.primaryContact.phoneNumber}{/if}</td>
                </tr>
                <tr>
                    <th>Phone Number Extension</th>
                    <td>{#if company.primaryContact}{company.primaryContact.phoneExtension}{/if}</td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>{#if company.primaryContact && company.primaryContact.country}{company.primaryContact.country.name}{/if}</td>
                </tr>
                <tr>
                    <th>Time Zone</th>
                    <td>{#if company.primaryContact && company.primaryContact.timezone}{company.primaryContact.timezone.name}{/if}</td>
                </tr>
                </tbody>
            </table>
            <div class="form-actions">
                <a class="action-button" href="/companies/{company.id}/edit">Edit</a>
            </div>
        </div>
    {/content}
{/include}
