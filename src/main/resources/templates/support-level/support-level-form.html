<!--
  Eclipse Public License - v 2.0

    THE ACCOMPANYING PROGRAM IS PROVIDED UNDER THE TERMS OF THIS ECLIPSE
    PUBLIC LICENSE ("AGREEMENT"). ANY USE, REPRODUCTION OR DISTRIBUTION
    OF THE PROGRAM CONSTITUTES RECIPIENT'S ACCEPTANCE OF THIS AGREEMENT.
-->

{#include admin-layout}
{#content}
<div class="form-card full-width">
    <h1>{title}</h1>
    <form method="post" action="{action}">
        <label>Name
            <input type="text" name="name" value="{supportLevel.name}" required>
        </label>
        <div>
            <label class="markdown-label" for="support-level-description">Description</label>
            <div class="markdown-editor" data-markdown-editor>
                <div class="markdown-toolbar" data-md-toolbar>
                    <button type="button" data-md-action="bold" aria-label="Bold"><strong>B</strong></button>
                    <button type="button" data-md-action="italic" aria-label="Italic"><em>I</em></button>
                    <button type="button" data-md-action="heading" aria-label="Heading">H</button>
                    <button type="button" data-md-action="list" aria-label="List">List</button>
                    <button type="button" data-md-action="quote" aria-label="Quote">Quote</button>
                    <button type="button" data-md-action="code" aria-label="Code"><code>{}</code></button>
                    <button type="button" data-md-action="code-block" aria-label="Code block">Code</button>
                    <button type="button" data-md-action="link" aria-label="Link">Link</button>
                </div>
                <div class="markdown-panels">
                    <div class="markdown-panel">
                        <div class="markdown-panel-header">Write</div>
                        <textarea id="support-level-description" name="description" rows="6" required data-md-input>{supportLevel.description}</textarea>
                    </div>
                    <div class="markdown-panel">
                        <div class="markdown-panel-header">Preview</div>
                        <div class="markdown-preview" data-md-preview></div>
                    </div>
                </div>
            </div>
        </div>
        <label>Level
            <input type="number" name="level" min="0" value="{supportLevel.level}" required>
        </label>
        <label>Color
            <input type="text" name="color" value="{supportLevel.color}" required>
        </label>
        <div>
            <label>From</label>
            <div style="display: flex; gap: 12px; align-items: end;">
                <select name="fromDay" required aria-label="From day" style="flex: 1;">
                    {#for day in dayOptions}
                    <option value="{day.code}" {#if supportLevel.fromDay == day.code}selected{/if}>{day.label}</option>
                    {/for}
                </select>
                <select name="fromTime" required aria-label="From time" style="min-width: 180px;">
                    {#for hour in hourOptions}
                    <option value="{hour.code}" {#if supportLevel.fromTime == hour.code}selected{/if}>{hour.label}</option>
                    {/for}
                </select>
            </div>
        </div>
        <div>
            <label>To</label>
            <div style="display: flex; gap: 12px; align-items: end;">
                <select name="toDay" required aria-label="To day" style="flex: 1;">
                    {#for day in dayOptions}
                    <option value="{day.code}" {#if supportLevel.toDay == day.code}selected{/if}>{day.label}</option>
                    {/for}
                </select>
                <select name="toTime" required aria-label="To time" style="min-width: 180px;">
                    {#for hour in hourOptions}
                    <option value="{hour.code}" {#if supportLevel.toTime == hour.code}selected{/if}>{hour.label}</option>
                    {/for}
                </select>
            </div>
        </div>
        <label>Country
            <select name="countryId">
                <option value="">Select country</option>
                {#for country in countries}
                <option value="{country.id}" {#if supportLevel.country != null && supportLevel.country.id == country.id}selected{/if}>{country.name}</option>
                {/for}
            </select>
        </label>
        <label>Timezone
            <select name="timezoneId">
                <option value="">Select timezone</option>
                {#for timezone in timezones}
                <option value="{timezone.id}" {#if supportLevel.timezone != null && supportLevel.timezone.id == timezone.id}selected{/if}>{timezone.name}</option>
                {/for}
            </select>
        </label>
        <div class="form-actions">
            <button type="submit" class="action-button">Save</button>
        </div>
    </form>
</div>
{/content}
{/include}
